<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arkium</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
  <!-- Additional Google Fonts for selectable themes -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="browser-container">
    <!-- Browser Controls -->
    <div class="browser-controls">
      <div class="navigation-buttons">
        <button id="back-btn" class="nav-btn" title="Go Back">&lt;</button>
        <button id="forward-btn" class="nav-btn" title="Go Forward">&gt;</button>
        <button id="reload-btn" class="nav-btn" title="Reload">R</button>
      </div>

      <div class="address-bar-container">
        <div class="url-wrapper">
          <span class="protocol">https://</span>
          <input type="text" id="address-bar" placeholder="ENTER URL OR SEARCH" autocomplete="off">
        </div>
      </div>

      <div class="browser-actions">
        <button id="add-tab-btn" class="action-btn" title="New Tab" aria-label="Add Tab">+ TAB</button>
        <button id="home-btn" class="action-btn" title="Home">HOME</button>
        <button id="gpt-toggle-btn" class="action-btn" title="ChatGPT" aria-label="Toggle ChatGPT Sidebar">GPT</button>
        <button id="notes-toggle-btn" class="action-btn" title="Notes" aria-label="Toggle Notes Sidebar">NOTES</button>
        <button id="menu-btn" class="action-btn" title="Menu">MENU</button>
      </div>
    </div>

    <!-- Tab Bar -->
    <div class="tab-bar">
  <div id="tabs" class="tabs" role="tablist" aria-label="Arkium Tabs"></div>
    </div>

    <!-- Browser View (rendered by Electron BrowserView) -->
    <div id="browser-view-container"></div>

    <!-- ChatGPT Sidebar -->
    <aside id="chatgpt-sidebar" class="chatgpt-sidebar" aria-label="ChatGPT Sidebar" hidden>
  <div class="chatgpt-header">CHATGPT<button id="chatgpt-ask-page" class="chatgpt-ask" type="button" title="Ask about this page">ASK PAGE</button></div>
      <div class="chatgpt-tabs">
        <div id="chatgpt-tabs" class="chatgpt-tabs-list" role="tablist" aria-label="Chat sessions"></div>
        <button id="chatgpt-new" class="chatgpt-new" type="button" title="New Chat">+ CHAT</button>
      </div>
      <div id="chatgpt-messages" class="chatgpt-messages" role="log" aria-live="polite"></div>
      <form id="chatgpt-form" class="chatgpt-input" autocomplete="off">
        <div id="chatgpt-tags" class="chatgpt-tags" aria-live="polite" aria-label="Attached context"></div>
        <input id="chatgpt-text" type="text" placeholder="ASK ANYTHING" aria-label="Prompt" />
        <button id="chatgpt-send" type="submit">SEND</button>
      </form>
    </aside>

    <!-- Notes Sidebar -->
    <aside id="notes-sidebar" class="notes-sidebar" aria-label="Notes Sidebar" hidden>
      <div class="notes-header">NOTES</div>
      <div class="notes-tabs">
        <div id="notes-tabs" class="notes-tabs-list" role="tablist" aria-label="Notes"></div>
        <button id="notes-new" class="notes-new" type="button" title="New Note">+ NOTE</button>
      </div>
      <div class="notes-editor">
        <textarea id="notes-textarea" placeholder="TYPE NOTES" aria-label="Note text"></textarea>
      </div>
    </aside>

    <!-- Menu / Settings Panel -->
    <aside id="menu-panel" class="menu-panel" aria-hidden="true">
      <div class="menu-tabs" role="tablist" aria-label="Menu">
        <div class="menu-tabs-left">
          <button id="menu-tab-settings" class="menu-tab active" role="tab" aria-selected="true" aria-controls="menu-page-settings">SETTINGS</button>
          <button id="menu-tab-history" class="menu-tab" role="tab" aria-selected="false" aria-controls="menu-page-history">HISTORY</button>
          <button id="menu-tab-about" class="menu-tab" role="tab" aria-selected="false" aria-controls="menu-page-about">ABOUT</button>
        </div>
        <button id="menu-close" class="action-btn small" type="button">CLOSE</button>
      </div>

      <div class="menu-pages">
        <section id="menu-page-settings" class="menu-page active" role="tabpanel" aria-labelledby="menu-tab-settings">
          <div class="menu-section">
            <label for="openai-key">OPENAI API KEY</label>
            <input id="openai-key" type="password" placeholder="sk-..." autocomplete="off" />
            <div class="menu-actions">
              <button id="show-key" class="action-btn small" type="button" aria-pressed="false">SHOW</button>
              <button id="save-openai-key" class="action-btn small" type="button">SAVE</button>
              <button id="test-openai-key" class="action-btn small" type="button">TEST</button>
            </div>
            <div id="key-status" class="menu-hint">No key saved.</div>
          </div>
          <div class="menu-section">
            <label for="compact-mode">COMPACT MODE</label>
            <div class="menu-actions">
              <input id="compact-mode" type="checkbox" />
              <span id="compact-mode-state" class="menu-hint">OFF</span>
              <span class="menu-hint">Tabs move to bottom in a horizontal bar.</span>
            </div>
          </div>
          <div class="menu-section">
            <label for="adaptive-theme">ADAPTIVE THEME</label>
            <div class="menu-actions">
              <input id="adaptive-theme" type="checkbox" />
              <span id="adaptive-theme-state" class="menu-hint">OFF</span>
            </div>
            <div class="menu-hint">Automatically match Arkium's two colors to the active page. Smooth transitions on navigation.</div>
            <div class="menu-actions" style="margin-top:6px; gap:8px; align-items:center;">
              <label for="adaptive-fade">SMOOTH COLOUR FADE</label>
              <input id="adaptive-fade" type="checkbox" />
              <span id="adaptive-fade-state" class="menu-hint">ON</span>
            </div>
          </div>
          <div class="menu-section">
            <label>PIXEL BACKGROUND</label>
            <div class="menu-actions" style="align-items:center; gap:8px;">
              <input id="start-bg-toggle" type="checkbox" aria-label="Pixel background on/off" />
              <span id="start-bg-state" class="menu-hint">OFF</span>
              <button id="apply-start-bg" class="action-btn small" type="button">APPLY</button>
            </div>
            <div class="menu-hint">Toggle the animated pixel background on the start page.</div>
          </div>
          <div class="menu-section">
            <label>THEME COLORS</label>
            <div class="menu-actions">
              <input id="color-fg" type="text" placeholder="#FFFFFF" aria-label="Foreground color" />
              <input id="color-bg" type="text" placeholder="#000000" aria-label="Background color" />
              <button id="apply-colors" class="action-btn small" type="button">APPLY</button>
              <button id="reset-colors" class="action-btn small" type="button">RESET</button>
            </div>
            <div class="menu-hint">Enter HEX like #000000 and #FFFFFF. Applies instantly across the UI.</div>
            <div class="menu-actions" style="margin-top:6px; gap:8px; align-items:center;">
              <label for="preset-select">PRESETS</label>
              <select id="preset-select" aria-label="Color Presets"></select>
              <button id="apply-preset" class="action-btn small" type="button">APPLY PRESET</button>
            </div>
            <div class="menu-actions" style="margin-top:6px; gap:8px; align-items:center;">
              <input id="preset-name" type="text" placeholder="Preset name" aria-label="Preset name" />
              <button id="save-preset" class="action-btn small" type="button">SAVE PRESET</button>
              <button id="delete-preset" class="action-btn small" type="button">DELETE PRESET</button>
            </div>
          </div>
          <div class="menu-section">
            <label for="font-select">FONT</label>
            <div class="menu-actions">
              <select id="font-select" aria-label="Font Family">
                <option value="tiny5">Tiny5 (pixel)</option>
                <option value="inter">Inter</option>
                <option value="ibm-plex-mono">IBM Plex Mono</option>
                <option value="jetbrains-mono">JetBrains Mono</option>
                <option value="press-start-2p">Press Start 2P (retro)</option>
                <option value="space-mono">Space Mono</option>
              </select>
              <button id="apply-font" class="action-btn small" type="button">APPLY FONT</button>
            </div>
            <div class="menu-hint">Applies globally. Uppercase styling is preserved.</div>
          </div>
        </section>
        <section id="menu-page-history" class="menu-page" role="tabpanel" aria-labelledby="menu-tab-history" hidden>
          <div class="menu-section">
            <label>BROWSER HISTORY</label>
            <div class="menu-actions">
              <button id="clear-history" class="action-btn small" type="button">CLEAR HISTORY</button>
            </div>
            <div id="history-empty" class="menu-hint">No history yet.</div>
            <div id="history-list" class="history-list" role="list"></div>
          </div>
        </section>
        <section id="menu-page-about" class="menu-page" role="tabpanel" aria-labelledby="menu-tab-about" hidden>
          <div class="menu-section">
            <label>ABOUT</label>
            <div class="menu-hint">ARKIUM â€” a 1-bit brutalist browser. Version 1.0. Keyboard: L focus URL, R reload, H home.</div>
          </div>
        </section>
      </div>
    </aside>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
